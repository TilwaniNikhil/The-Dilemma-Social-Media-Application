{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tilwani's\\\\Desktop\\\\buzzbird-main\\\\src\\\\components\\\\PostOptionsModal\\\\PostOptionsModal.jsx\",\n  _s = $RefreshSig$();\nimport { Modal } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { PostModal } from \"..\";\nimport { useAuth, usePosts, useUsers } from \"../../index\";\nimport { FaEdit, FaTrash, FaUserPlus, RiUserUnfollowFill } from \"../../utils/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PostOptionsModal = _ref => {\n  _s();\n  let {\n    post,\n    setShowOptions\n  } = _ref;\n  const {\n    _id,\n    username\n  } = post;\n  const {\n    currentUser\n  } = useAuth();\n  const {\n    usersState: {\n      users\n    },\n    unfollowUserHandler,\n    followUserHandler,\n    handleBtnsClick\n  } = useUsers();\n  const {\n    deletePostHandler\n  } = usePosts();\n  const [showPostModal, setShowPostModal] = useState(false);\n  const {\n    pathname\n  } = useLocation();\n  const navigate = useNavigate();\n  const userToFollow = users.find(user => user.username === username);\n  const userAlreadyFollowing = userToFollow.followers.find(user => user.username === currentUser.username);\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser, users]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute flex flex-col right-1 top-7 w-max rounded-md shadow-lg border border-darkGrey bg-lighterPrimary dark:bg-darkGrey\",\n    children: [username === currentUser.username ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"py-2 px-4 text-left cursor-pointer rounded-md hover:bg-lightPrimary dark:hover:bg-darkPrimary flex items-center justify-center\",\n        onClick: e => {\n          e.stopPropagation();\n          setShowPostModal(true);\n        },\n        children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), \"Edit\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"py-2 px-4 text-left cursor-pointer rounded-md hover:bg-lightPrimary dark:hover:bg-darkPrimary text-red flex items-center justify-center\",\n        onClick: e => {\n          e.stopPropagation();\n          deletePostHandler(_id);\n          if (pathname !== \"/\") {\n            setTimeout(() => {\n              navigate(\"/\");\n              window.scroll({\n                top: 0,\n                behavior: \"smooth\"\n              });\n            }, 2000);\n          }\n          setShowOptions(prev => !prev);\n        },\n        children: [/*#__PURE__*/_jsxDEV(FaTrash, {\n          className: \"mr-2 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), \"Delete\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"py-2 px-4 text-left cursor-pointer rounded-md hover:bg-lightPrimary dark:hover:bg-darkPrimary flex items-center justify-center\",\n      onClick: e => {\n        e.stopPropagation();\n        userAlreadyFollowing ? handleBtnsClick(400, unfollowUserHandler, userToFollow === null || userToFollow === void 0 ? void 0 : userToFollow._id) : handleBtnsClick(400, followUserHandler, userToFollow === null || userToFollow === void 0 ? void 0 : userToFollow._id);\n        setShowOptions(false);\n      },\n      children: userAlreadyFollowing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(RiUserUnfollowFill, {\n          className: \"mr-2 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this), \" Unfollow\", \" \"]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(FaUserPlus, {\n          className: \"mr-2 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), \"Follow\"]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: showPostModal,\n      onClose: () => setShowPostModal(false),\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(PostModal, {\n          post: post,\n          setShowOptions: setShowOptions,\n          setShowPostModal: setShowPostModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(PostOptionsModal, \"1i9pyHuq+J76qubmrpK76qWiEJA=\", false, function () {\n  return [useAuth, useUsers, usePosts, useLocation, useNavigate];\n});\n_c = PostOptionsModal;\nexport { PostOptionsModal };\nvar _c;\n$RefreshReg$(_c, \"PostOptionsModal\");","map":{"version":3,"names":["Modal","useEffect","useState","useLocation","useNavigate","PostModal","useAuth","usePosts","useUsers","FaEdit","FaTrash","FaUserPlus","RiUserUnfollowFill","jsxDEV","_jsxDEV","Fragment","_Fragment","PostOptionsModal","_ref","_s","post","setShowOptions","_id","username","currentUser","usersState","users","unfollowUserHandler","followUserHandler","handleBtnsClick","deletePostHandler","showPostModal","setShowPostModal","pathname","navigate","userToFollow","find","user","userAlreadyFollowing","followers","className","children","onClick","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","setTimeout","window","scroll","top","behavior","prev","open","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Tilwani's/Desktop/buzzbird-main/src/components/PostOptionsModal/PostOptionsModal.jsx"],"sourcesContent":["import { Modal } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { PostModal } from \"..\";\nimport { useAuth, usePosts, useUsers } from \"../../index\";\nimport {\n  FaEdit,\n  FaTrash,\n  FaUserPlus,\n  RiUserUnfollowFill,\n} from \"../../utils/icons\";\n\nconst PostOptionsModal = ({ post, setShowOptions }) => {\n  const { _id, username } = post;\n\n  const { currentUser } = useAuth();\n  const {\n    usersState: { users },\n    unfollowUserHandler,\n    followUserHandler,\n    handleBtnsClick,\n  } = useUsers();\n  const { deletePostHandler } = usePosts();\n\n  const [showPostModal, setShowPostModal] = useState(false);\n\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n\n  const userToFollow = users.find((user) => user.username === username);\n\n  const userAlreadyFollowing = userToFollow.followers.find(\n    (user) => user.username === currentUser.username\n  );\n\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentUser, users]);\n\n  return (\n    <div className=\"absolute flex flex-col right-1 top-7 w-max rounded-md shadow-lg border border-darkGrey bg-lighterPrimary dark:bg-darkGrey\">\n      {username === currentUser.username ? (\n        <>\n          <button\n            className=\"py-2 px-4 text-left cursor-pointer rounded-md hover:bg-lightPrimary dark:hover:bg-darkPrimary flex items-center justify-center\"\n            onClick={(e) => {\n              e.stopPropagation();\n              setShowPostModal(true);\n            }}\n          >\n            <FaEdit className=\"mr-2\" />\n            Edit\n          </button>\n          <button\n            className=\"py-2 px-4 text-left cursor-pointer rounded-md hover:bg-lightPrimary dark:hover:bg-darkPrimary text-red flex items-center justify-center\"\n            onClick={(e) => {\n              e.stopPropagation();\n              deletePostHandler(_id);\n              if (pathname !== \"/\") {\n                setTimeout(() => {\n                  navigate(\"/\");\n                  window.scroll({ top: 0, behavior: \"smooth\" });\n                }, 2000);\n              }\n              setShowOptions((prev) => !prev);\n            }}\n          >\n            <FaTrash className=\"mr-2 \" />\n            Delete\n          </button>\n        </>\n      ) : (\n        <button\n          className=\"py-2 px-4 text-left cursor-pointer rounded-md hover:bg-lightPrimary dark:hover:bg-darkPrimary flex items-center justify-center\"\n          onClick={(e) => {\n            e.stopPropagation();\n            userAlreadyFollowing\n              ? handleBtnsClick(400, unfollowUserHandler, userToFollow?._id)\n              : handleBtnsClick(400, followUserHandler, userToFollow?._id);\n            setShowOptions(false);\n          }}\n        >\n          {userAlreadyFollowing ? (\n            <>\n              <RiUserUnfollowFill className=\"mr-2 \" /> Unfollow{\" \"}\n            </>\n          ) : (\n            <>\n              <FaUserPlus className=\"mr-2 \" />\n              Follow\n            </>\n          )}\n        </button>\n      )}\n\n      <Modal open={showPostModal} onClose={() => setShowPostModal(false)}>\n        <>\n          <PostModal\n            post={post}\n            setShowOptions={setShowOptions}\n            setShowPostModal={setShowPostModal}\n          />\n        </>\n      </Modal>\n    </div>\n  );\n};\n\nexport { PostOptionsModal };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}