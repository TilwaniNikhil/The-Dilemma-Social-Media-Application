{"ast":null,"code":"import{useEffect}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{Loader,PostCard,ProfileDetails,SearchBar,SideBar,SuggestedUsers}from\"../../components\";import{useAuth,usePosts,useUsers}from\"../../index\";import{FaArrowLeft}from\"../../utils/icons\";import{sortPosts}from\"../../utils/sortPosts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserProfile=function UserProfile(){var _sortPosts;var navigate=useNavigate();var _useParams=useParams(),username=_useParams.username;var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useUsers=useUsers(),user=_useUsers.usersState.user,getUserByUsername=_useUsers.getUserByUsername,isLoading=_useUsers.isLoading;var _usePosts=usePosts(),posts=_usePosts.postsState.posts;document.title=\"\".concat(user===null||user===void 0?void 0:user.firstName,\" \").concat(user===null||user===void 0?void 0:user.lastName);var userPosts=posts===null||posts===void 0?void 0:posts.filter(function(post){return post.username===(user===null||user===void 0?void 0:user.username);});useEffect(function(){getUserByUsername(username);window.scroll({top:0,behavior:\"smooth\"});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[username,currentUser]);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid sm:grid-cols-[5rem_1fr] lg:grid-cols-[12rem_1fr] xl:grid-cols-[13rem_1fr_20rem] w-[100%] lg:w-[80%] mb-16 sm:m-auto dark:bg-darkColor dark:text-lightGrey transition-all duration-500\",children:[/*#__PURE__*/_jsx(SideBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:border-x border-darkGrey dark:border-lightGrey\",children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\" p-3 sticky top-0 backdrop-blur-md z-20 border-b border-darkGrey dark:border-lightGrey flex items-center\",children:[/*#__PURE__*/_jsx(FaArrowLeft,{className:\"mr-5 mx-1 cursor-pointer\",onClick:function onClick(){return navigate(-1);}}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold tracking-wide\",children:user.firstName+\" \"+user.lastName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-[grey]\",children:[userPosts===null||userPosts===void 0?void 0:userPosts.length,\" posts\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[user?/*#__PURE__*/_jsx(ProfileDetails,{user:user}):/*#__PURE__*/_jsx(_Fragment,{}),isLoading?/*#__PURE__*/_jsx(Loader,{}):!user?/*#__PURE__*/_jsx(\"p\",{className:\"p-4 text-center font-bold\",children:\"User not found.\"}):userPosts!==null&&userPosts!==void 0&&userPosts.length?(_sortPosts=sortPosts(userPosts,\"Latest\"))===null||_sortPosts===void 0?void 0:_sortPosts.map(function(post){return/*#__PURE__*/_jsx(PostCard,{post:post},post._id);}):/*#__PURE__*/_jsx(\"p\",{className:\"p-4 text-center font-bold\",children:\"No posts to show.\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden xl:block\",children:[/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(SuggestedUsers,{})]})]});};export{UserProfile};","map":{"version":3,"names":["useEffect","useNavigate","useParams","Loader","PostCard","ProfileDetails","SearchBar","SideBar","SuggestedUsers","useAuth","usePosts","useUsers","FaArrowLeft","sortPosts","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserProfile","_sortPosts","navigate","_useParams","username","_useAuth","currentUser","_useUsers","user","usersState","getUserByUsername","isLoading","_usePosts","posts","postsState","document","title","concat","firstName","lastName","userPosts","filter","post","window","scroll","top","behavior","className","children","onClick","length","map","_id"],"sources":["C:/Users/Tilwani's/Desktop/The-Dilemma/src/pages/UserProfile/UserProfile.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport {\n  Loader,\n  PostCard,\n  ProfileDetails,\n  SearchBar,\n  SideBar,\n  SuggestedUsers,\n} from \"../../components\";\nimport { useAuth, usePosts, useUsers } from \"../../index\";\nimport { FaArrowLeft } from \"../../utils/icons\";\nimport { sortPosts } from \"../../utils/sortPosts\";\n\nconst UserProfile = () => {\n  const navigate = useNavigate();\n  const { username } = useParams();\n\n  const { currentUser } = useAuth();\n  const {\n    usersState: { user },\n    getUserByUsername,\n    isLoading,\n  } = useUsers();\n  const {\n    postsState: { posts },\n  } = usePosts();\n\n  document.title = `${user?.firstName} ${user?.lastName}`;\n\n  const userPosts = posts?.filter((post) => post.username === user?.username);\n\n  useEffect(() => {\n    getUserByUsername(username);\n    window.scroll({ top: 0, behavior: \"smooth\" });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [username, currentUser]);\n\n  return (\n    <div className=\"grid sm:grid-cols-[5rem_1fr] lg:grid-cols-[12rem_1fr] xl:grid-cols-[13rem_1fr_20rem] w-[100%] lg:w-[80%] mb-16 sm:m-auto dark:bg-darkColor dark:text-lightGrey transition-all duration-500\">\n      <SideBar />\n\n      <div className=\"sm:border-x border-darkGrey dark:border-lightGrey\">\n        {isLoading ? (\n          <Loader />\n        ) : (\n          <>\n            <h1 className=\" p-3 sticky top-0 backdrop-blur-md z-20 border-b border-darkGrey dark:border-lightGrey flex items-center\">\n              <FaArrowLeft\n                className=\"mr-5 mx-1 cursor-pointer\"\n                onClick={() => navigate(-1)}\n              />\n              <span>\n                <p className=\"font-bold tracking-wide\">\n                  {user.firstName + \" \" + user.lastName}\n                </p>\n                <p className=\"text-sm text-[grey]\">{userPosts?.length} posts</p>\n              </span>\n            </h1>\n\n            <div>\n              {user ? <ProfileDetails user={user} /> : <></>}\n              {isLoading ? (\n                <Loader />\n              ) : !user ? (\n                <p className=\"p-4 text-center font-bold\">User not found.</p>\n              ) : userPosts?.length ? (\n                sortPosts(userPosts, \"Latest\")?.map((post) => (\n                  <PostCard key={post._id} post={post} />\n                ))\n              ) : (\n                <p className=\"p-4 text-center font-bold\">No posts to show.</p>\n              )}\n            </div>\n          </>\n        )}\n      </div>\n\n      <div className=\"hidden xl:block\">\n        <SearchBar />\n        <SuggestedUsers />\n      </div>\n    </div>\n  );\n};\n\nexport { UserProfile };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}